(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{268:function(t,e,n){"use strict";n.r(e);n(3),n(20),n(4),n(101);var l={name:"PointInput",data:function(){return{inputState:!1,currentItem:null,itemsCopy:[],locationsPlaceholder:"Введите населённый пункт",addressesPlaceholder:"Улица, дом"}},props:{source:{type:String,default:null},point:{type:String,default:null}},watch:{items:function(t){this.itemsCopy=t},currentItem:function(t){var e=JSON.parse(JSON.stringify(this.items)),n=JSON.parse(JSON.stringify(e)).filter((function(e){return e.name.match("^"+t)}));""===t||null===t?this.itemsCopy=e:0===n.length?this.itemsCopy=[{value:null,name:"Ничего не найдено",region:null}]:n.length>0&&(this.itemsCopy=n)}},computed:{placeholder:function(){return this.point?this.addressesPlaceholder:this.locationsPlaceholder},items:function(){return this.point?this.$store.getters["calculator/getAddresses"]:this.$store.getters["calculator/getLocations"]}},methods:{showItemsList:function(){this.inputState=!0},hideItemsList:function(){this.inputState=!1},setItem:function(t){this.$store.commit("calculator/UPDATE_PRICE_LOCATION",{item:t.guid,source:this.source}),this.point?this.addressesPlaceholder=t.name:this.locationsPlaceholder=t.name,this.currentItem=null,this.inputState=!1}},created:function(){this.point?this.itemsCopy=this.$store.getters["calculator/getAddresses"]:this.itemsCopy=this.$store.getters["calculator/getLocations"],"departure"===this.source?this.locationsPlaceholder="Санкт-Петербург":this.locationsPlaceholder="Москва"}},c=n(41),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-column"},[n("b-form-input",{staticClass:"custom_input",class:t.inputState?"-active":"",attrs:{placeholder:t.placeholder},on:{focus:t.showItemsList},model:{value:t.currentItem,callback:function(e){t.currentItem=e},expression:"currentItem"}}),t._v(" "),t.inputState?n("div",{staticClass:"d-flex flex-column"},[n("div",{staticClass:"d-flex justify-content-end close_container"},[n("span",{staticClass:"px-2 close_container-button",on:{click:t.hideItemsList}},[t._v("Закрыть")])]),t._v(" "),n("div",{staticClass:"custom_input_container d-flex flex-column"},t._l(t.itemsCopy,(function(e,l){return n("div",{key:l,staticClass:"d-flex flex-column py-2 px-4",class:"Ничего не найдено"===e.name?"":"custom_input_item",on:{click:function(n){return t.setItem(e)}}},[n("span",[t._v(t._s(e.name))]),t._v(" "),t.point?t._e():n("span",{staticClass:"custom_input_item-region"},[t._v(t._s(e.region))])])})),0)]):t._e()],1)}),[],!1,null,null,null);e.default=component.exports},269:function(t,e,n){"use strict";n.r(e);var l={name:"CalendarMonth",props:{source:{type:String,default:null},current:{type:Boolean,default:!1},month:{type:String,default:null}}},c=n(41),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-column w-100"},[n("div",{staticClass:"d-flex w-100",class:t.current?"calendar-current_month":"calendar-next_month"},[n("div",{staticClass:"d-flex calendar-month mr-4"},[n("span",[t._v(t._s(t.month))])]),t._v(" "),n("div",{staticClass:"d-flex flex-column w-100"},[t.current?n("div",{staticClass:"d-flex justify-content-between mb-3 w-100"},[n("span",{staticClass:"calendar-head-day"},[t._v("Пн")]),t._v(" "),n("span",{staticClass:"calendar-head-day"},[t._v("Вт")]),t._v(" "),n("span",{staticClass:"calendar-head-day"},[t._v("Ср")]),t._v(" "),n("span",{staticClass:"calendar-head-day"},[t._v("Чт")]),t._v(" "),n("span",{staticClass:"calendar-head-day"},[t._v("Пт")]),t._v(" "),n("span",{staticClass:"calendar-head-day_off"},[t._v("Сб")]),t._v(" "),n("span",{staticClass:"calendar-head-day_off"},[t._v("Вс")])]):t._e(),t._v(" "),t._m(0)])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex justify-content-between w-100"},[n("span",{staticClass:"calendar-day"},[t._v("28")]),t._v(" "),n("span",{staticClass:"calendar-day"},[t._v("29")]),t._v(" "),n("span",{staticClass:"calendar-day"},[t._v("30")]),t._v(" "),n("span",{staticClass:"calendar-day"},[t._v("31")]),t._v(" "),n("span",{staticClass:"calendar-day"},[t._v("01")]),t._v(" "),n("span",{staticClass:"calendar-day"},[t._v("02")]),t._v(" "),n("span",{staticClass:"calendar-day"},[t._v("03")])])}],!1,null,"7bff3c3e",null);e.default=component.exports},270:function(t,e,n){"use strict";n.r(e);n(3),n(20),n(4),n(101);var l={name:"TimeInput",data:function(){return{inputState:!1,currentItem:null,itemsCopy:[],citiesPlaceholder:"00:00",addressesPlaceholder:"00:00"}},props:{source:{type:String,default:null},point:{type:String,default:null}},watch:{items:function(t){this.itemsCopy=t},currentItem:function(t){var e=JSON.parse(JSON.stringify(this.items)),n=JSON.parse(JSON.stringify(e)).filter((function(e){return e.name.match("^"+t)}));""===t||null===t?this.itemsCopy=e:0===n.length?this.itemsCopy=[{value:null,name:"Нет данных",region:null}]:n.length>0&&(this.itemsCopy=n)}},computed:{placeholder:function(){return this.point?this.addressesPlaceholder:this.citiesPlaceholder},items:function(){return this.$store.getters["calculator/getPeriods"]}},methods:{showItemsList:function(){this.inputState=!0},hideItemsList:function(){this.inputState=!1},setItem:function(t){this.point?this.addressesPlaceholder=t.name:this.citiesPlaceholder=t.name,this.currentItem=null,this.inputState=!1}},created:function(){this.itemsCopy=this.$store.getters["calculator/getPeriods"]}},c=n(41),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-column"},[n("b-form-input",{staticClass:"custom_input_time",class:t.inputState?"-active":"",attrs:{placeholder:t.placeholder},on:{focus:t.showItemsList},model:{value:t.currentItem,callback:function(e){t.currentItem=t._n(e)},expression:"currentItem"}}),t._v(" "),t.inputState?n("div",{staticClass:"d-flex flex-column"},[n("div",{staticClass:"d-flex justify-content-end close_container -periods"},[n("span",{staticClass:"px-2 close_container-button",on:{click:t.hideItemsList}},[n("b-icon-x",{staticClass:"m-0 h5"})],1)]),t._v(" "),n("div",{staticClass:"custom_input_container -periods d-flex flex-column"},t._l(t.itemsCopy,(function(e,l){return n("div",{key:l,staticClass:"d-flex py-2 px-4 align-items-center",class:"Ничего не найдено"===e.name?"":"custom_input_item",on:{click:function(n){return t.setItem(e)}}},[n("span",{staticClass:"mr-2"},[t._v(t._s(e.name))]),t._v(" "),"morning"===e.flag?n("b-icon-sun",{staticClass:"m-0 h5",attrs:{variant:"warning"}}):"night"===e.flag?n("b-icon-moon",{staticClass:"m-0 h5",attrs:{variant:"indigo"}}):t._e()],1)})),0)]):t._e()],1)}),[],!1,null,null,null);e.default=component.exports},272:function(t,e,n){"use strict";n.r(e);var l=n(269),c=n(268),r={name:"Address",components:{TimeInput:n(270).default,PointInput:c.default,CalendarMonth:l.default},data:function(){return{inputState:!1}},props:{source:{type:String,default:null}}},o=n(41),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-column"},[n("div",{staticClass:"d-flex align-items-center justify-content-between"},[n("span",{staticClass:"mb-2"},[t._v("Адрес")]),t._v(" "),n("div",{staticClass:"d-flex align-items-center pointer"},[n("b-icon-geo-alt-fill",{staticClass:"m-0 mr-2 custom_geo_alt",attrs:{variant:"danger"}}),t._v(" "),n("span",{staticClass:"custom_geo_alt-title"},[t._v("выбрать на карте")])],1)]),t._v(" "),n("div",{staticClass:"d-flex flex-column"},[n("PointInput",{attrs:{source:t.source,point:"address"}}),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"d-flex w-100 flex-column mt-4"},[n("div",{staticClass:"d-flex w-100 justify-content-between mb-4"},[n("div",{staticClass:"d-flex w-50 flex-column"},[n("div",{staticClass:"d-flex flex-column w-100"},[n("span",{staticClass:"mb-4 calendar-title"},[t._v("Выберите дату "+t._s("departure"===t.source?"забора":"доставки")+" груза")]),t._v(" "),n("CalendarMonth",{attrs:{source:t.source,current:!0,month:"Дек"}}),t._v(" "),n("CalendarMonth",{attrs:{source:t.source,current:!1,month:"Янв"}})],1)]),t._v(" "),n("div",{staticClass:"w-45"},[n("div",{staticClass:"d-flex align-items-center mt-1 mb-3"},[n("b-icon-square",{staticClass:"m-0 h5 mr-3 pointer"}),t._v(" "),n("span",[t._v("Фиксированное время")])],1),t._v(" "),n("div",{staticClass:"d-flex align-items-center"},[n("div",{staticClass:"d-flex align-items-center mr-2"},[n("span",{staticClass:"mr-1 secondary_color"},[t._v("С")]),t._v(" "),n("TimeInput",{attrs:{source:t.source,point:"address"}})],1),t._v(" "),n("div",{staticClass:"d-flex align-items-center mr-2"},[n("span",{staticClass:"mr-1 secondary_color"},[t._v("До")]),t._v(" "),n("TimeInput",{attrs:{source:t.source,point:"address"}})],1),t._v(" "),n("b-icon-info-circle-fill",{staticClass:"m-0 h4 pointer",attrs:{variant:"danger"}})],1)])]),t._v(" "),n("div",{staticClass:"d-flex w-100 justify-content-between mt-4"},[n("b-button",{staticClass:"custom_button px-4",attrs:{variant:"danger"}},[t._v(t._s("departure"===t.source?"Погрузочные":"Разгрузочные")+" работы: нет")]),t._v(" "),n("b-button",{staticClass:"custom_button px-4",attrs:{variant:"danger"}},[t._v("Комментарий водителю: нет")])],1)])],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex justify-content-end container pointer"},[e("span",{staticClass:"add_docs"},[this._v("+ документы к другому адресу")])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{PointInput:n(268).default,CalendarMonth:n(269).default,TimeInput:n(270).default})},273:function(t,e,n){"use strict";n.r(e);var l=n(269),c=n(268),r={name:"Terminal",components:{TimeInput:n(270).default,PointInput:c.default,CalendarMonth:l.default},data:function(){return{inputState:!1}},props:{source:{type:String,default:null}}},o=n(41),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-column"},[n("div",{staticClass:"d-flex align-items-center justify-content-between"},[n("span",{staticClass:"mb-2"},[t._v("Терминал")]),t._v(" "),n("div",{staticClass:"d-flex align-items-center pointer"},[n("b-icon-geo-alt-fill",{staticClass:"m-0 mr-2 custom_geo_alt",attrs:{variant:"danger"}}),t._v(" "),n("span",{staticClass:"custom_geo_alt-title"},[t._v("выбрать на карте")])],1)]),t._v(" "),n("PointInput",{attrs:{source:t.source,point:"terminal"}}),t._v(" "),n("div",{staticClass:"d-flex w-100 flex-column mt-4"},[n("div",{staticClass:"d-flex w-100 justify-content-between mb-4"},[n("div",{staticClass:"d-flex w-50 flex-column"},[n("div",{staticClass:"d-flex flex-column w-100"},[n("span",{staticClass:"mb-4 calendar-title"},[t._v(t._s("departure"===t.source?"Приём":"Выдача")+" груза на терминале")]),t._v(" "),n("CalendarMonth",{attrs:{source:t.source,current:!0,month:"Дек"}}),t._v(" "),n("CalendarMonth",{attrs:{source:t.source,current:!1,month:"Янв"}})],1)]),t._v(" "),n("div",{staticClass:"w-45"},[n("div",{staticClass:"d-flex align-items-center w-100"},[n("div",{staticClass:"d-flex align-items-center w-50 mr-2"},[n("span",{staticClass:"mr-1 secondary_color"},[t._v("С")]),t._v(" "),n("TimeInput",{attrs:{source:t.source,point:"terminal"}})],1)])])])])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{PointInput:n(268).default,CalendarMonth:n(269).default,TimeInput:n(270).default})},274:function(t,e,n){"use strict";n.r(e);var l={name:"CityPoint",components:{PointInput:n(268).default},data:function(){return{inputState:!1}},props:{source:{type:String,default:null}},computed:{pointOption:function(){return"departure"===this.source?this.$store.getters["calculator/getDepartureOption"]:this.$store.getters["calculator/getReceivingOption"]}},methods:{setDeparturePoint:function(t){"departure"===this.source?this.$store.commit("calculator/UPDATE_DEPARTURE_OPTION",t):this.$store.commit("calculator/UPDATE_RECEIVING_OPTION",t)}}},c=n(41),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-column"},[n("span",{staticClass:"mb-2"},[t._v(t._s("departure"===t.source?"Откуда":"Куда"))]),t._v(" "),n("PointInput",{attrs:{source:t.source}}),t._v(" "),n("div",{staticClass:"d-flex my-4"},[n("div",{staticClass:"d-flex align-items-center pointer mr-4",on:{click:function(e){return t.setDeparturePoint("address")}}},["address"===t.pointOption?n("b-icon-circle-fill",{staticClass:"m-0 h5 mr-2",attrs:{variant:"secondary"}}):n("b-icon-circle",{staticClass:"m-0 h5 mr-2",attrs:{variant:"secondary"}}),t._v(" "),n("span",[t._v(t._s("departure"===t.source?"От":"До")+" адреса")])],1),t._v(" "),n("div",{staticClass:"d-flex align-items-center pointer",on:{click:function(e){return t.setDeparturePoint("terminal")}}},["terminal"===t.pointOption?n("b-icon-circle-fill",{staticClass:"m-0 h5 mr-2",attrs:{variant:"secondary"}}):n("b-icon-circle",{staticClass:"m-0 h5 mr-2",attrs:{variant:"secondary"}}),t._v(" "),n("span",[t._v(t._s("departure"===t.source?"От":"До")+" терминала")])],1)])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{PointInput:n(268).default})},277:function(t,e,n){"use strict";n.r(e);var l=n(272),c=n(273),r={head:function(){return{title:"Калькулятор",meta:[{hid:"description",name:"description",content:"Калькулятор расчёта доставки"}]}},data:function(){return{weight:.1,volume:.01}},watch:{priceFilter:{handler:function(){this.$store.dispatch("calculator/fetchPrice")},deep:!0}},components:{CityPoint:n(274).default,Terminal:c.default,Address:l.default},computed:{departurePoint:function(){return this.$store.getters["calculator/getDepartureOption"]},receivingPoint:function(){return this.$store.getters["calculator/getReceivingOption"]},priceFilter:function(){return this.$store.getters["calculator/getPriceFilter"]},priceCalculate:function(){return this.$store.getters["calculator/getPriceCalculate"]}},methods:{fetchPrice:function(){this.$store.dispatch("calculator/fetchPrice")},setWeight:function(){this.weight>19999?this.weight=19999:this.weight<.1&&(this.weight=.1),this.$store.commit("calculator/UPDATE_WEIGHT",this.weight)},setValue:function(){this.volume>74?this.volume=74:this.volume<.01&&(this.volume=.01),this.$store.commit("calculator/UPDATE_VOLUME",this.volume)}},created:function(){this.$store.dispatch("calculator/fetchLocations"),this.$store.dispatch("calculator/fetchPrice")}},o=n(41),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex w-100"},[n("div",{staticClass:"d-flex flex-column m-3 w-70 mx-auto"},[t._m(0),t._v(" "),n("div",{staticClass:"d-flex w-100 mb-4"},[n("div",{staticClass:"d-flex container"},[n("div",{staticClass:"d-flex flex-column w-100"},[n("CityPoint",{attrs:{source:"departure"}}),t._v(" "),"address"===t.departurePoint?n("Address",{attrs:{source:"departure"}}):n("Terminal",{attrs:{source:"departure"}})],1)]),t._v(" "),n("div",{staticClass:"mt-4 ml-4"},[n("b-icon-arrow-down-up",{staticClass:"m-0 h5 mt-3 custom_icon-arrows"})],1),t._v(" "),n("div",{staticClass:"d-flex container"},[n("div",{staticClass:"d-flex flex-column w-100"},[n("CityPoint",{attrs:{resource:"receiving"}}),t._v(" "),"address"===t.receivingPoint?n("Address",{attrs:{source:"receiving"}}):n("Terminal",{attrs:{source:"receiving"}})],1)])]),t._v(" "),n("div",{staticClass:"d-flex mx-4 cargo mb-4"},[n("div",{staticClass:"d-flex flex-column w-20 mr-4"},[n("span",{staticClass:"mb-4"},[t._v("Вес")]),t._v(" "),n("div",{staticClass:"d-flex align-items-center cargo-calculate"},[n("b-input-group",[n("b-form-input",{staticClass:"cargo-calculate-input",attrs:{type:"number","no-wheel":""},on:{change:t.setWeight},model:{value:t.weight,callback:function(e){t.weight=t._n(e)},expression:"weight"}}),t._v(" "),n("b-input-group-prepend",{attrs:{"is-text":""}},[n("span",[t._v("кг")])])],1)],1)]),t._v(" "),n("div",{staticClass:"d-flex flex-column w-20 ml-4"},[n("span",{staticClass:"mb-4"},[t._v("Объем")]),t._v(" "),n("div",{staticClass:"d-flex align-items-center cargo-calculate"},[n("b-input-group",[n("b-form-input",{staticClass:"cargo-calculate-input",attrs:{type:"number","no-wheel":""},on:{change:t.setValue},model:{value:t.volume,callback:function(e){t.volume=t._n(e)},expression:"volume"}}),t._v(" "),n("b-input-group-prepend",{attrs:{"is-text":""}},[n("span",[t._v("м"),n("sup",[t._v("3")])])])],1)],1)])]),t._v(" "),n("div",{staticClass:"d-flex justify-content-between mt-4 w-70 mx-auto"},[n("div",{staticClass:"d-flex align-items-center total_cost"},[n("span",{staticClass:"mr-2"},[t._v("Итого:")]),t._v(" "),n("div",{staticClass:"d-flex align-items-center"},[n("span",{staticClass:"mr-1"},[t._v(t._s(t.priceCalculate&&t.priceCalculate.total?t.priceCalculate.total:0))]),t._v(" "),n("span",[t._v("₽")])])]),t._v(" "),n("b-button",{staticClass:"custom_button px-4",attrs:{variant:"danger"},on:{click:t.fetchPrice}},[t._v("Пересчитать")])],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex w-100 justify-content-center align-items-center my-4"},[e("span",{staticClass:"mr-4 h5 calculate_step_point"},[this._v("1")]),this._v(" "),e("span",{staticClass:"h4"},[this._v("Выбор направления перевозки")])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{CityPoint:n(274).default,Address:n(272).default,Terminal:n(273).default})}}]);